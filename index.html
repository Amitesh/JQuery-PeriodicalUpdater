<html>
	<head>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.js"></script>
		<script src="http://github.com/RobertFischer/JQuery-PeriodicalUpdater/raw/master/jquery.periodicalupdater.js"></script>
	</head>
	<body>
		<p>This is a demo of the JQuery PeriodicalUpdater.  For more information, see the <a href="http://github.com/RobertFischer/JQuery-PeriodicalUpdater/raw/master/README">README</a>.</p>

		<p>
			<h3>Recent Commits</h3>
			<ul id="commits"></ul>
		</p>
<script>
$.PeriodicalUpdater('/api/v1/json/robertfischer/JQuery-PeriodicalUpdater/commits/master', {
	minTimeout: 10*1000,
	maxTimeout: 10*60*1000,
	multiplier: 2.3,
	dataType:'json',
	cache:true
},
function(data) {
	var commits = $('#commits');
	commits.empty();
	$.each(data, function() {
		var newElt = $('<li> ' + this.message + '</li>');

		// Take out sneaky hacker types
		newElt.children('script').replaceWith('');
		newElt.children('img').replaceWith('');
		
		commits.append(newElt);
	});
});
</script>

		<p>Developed by Robert Fischer of <a href="http://smokejumperit.com">Smokejumper IT</a>.</p>

	</body>
</html>
